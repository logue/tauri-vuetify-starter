# 支援的格式指南

## 支援的輸入格式

Drop Compress Image 支援以下輸入影像格式：

- AV1 Image Format (`*.avif`)
- Microsoft Windows Bitmap Image (`*.bmp`)
- Direct Draw Surface (`*.dds`)
- Farbfeld (`*.ff`)
- Graphics Interchange Format (`*.gif`)
- Radiance High Dynamic Range image file (`*.hdr`)
- Computer icon encoded in ICO file format (`*.ico`)
- Joint Photographic Experts Group (`*.jpg`, `*.jpeg`)
- OpenEXR image (`*.exr`)
- Portable Network Graphic (`*.png`)
- Portable Any Map (`*.pnm`)
- Quite OK Image Format (`*.qoi`)
- Truevision Graphics Adapter (`*.tga`)
- Tagged Image File Format (`*.tif`, `*.tiff`)
- WebP (`*.webp`)
- JPEG 2000 (`*.jp2`, `*.j2c`, `*.j2k`, `*.jpf`, `*.jpx`, `*.jpm`, `*.mj2`, `*.jph`)
- JPEG XL (`*.jxl`)

## 支援的輸出格式

本節介紹此程式支援的輸出格式。

### PNG（Oxipng）

PNG（Portable Network Graphic）是一種允許您保存圖像而不會損失圖像品質的格式。
此程式使用 Zopfli，這是 Google 開發的一種特殊壓縮技術，可使 PNG 映像“更小”，但處理時間會更長。

### PNG 功能

- **無損壓縮**：無論保存多少次，原始影像品質都不會降低。
- **透明度 (Alpha)**：允許使用透明背景。

### PNG 使用場景

- **標誌、圖示和圖表**：邊框清晰、顏色較少的圖像，或需要使用透明背景的圖像。
- **網站素材**：用於避免影像品質下降。
- **保留原始資料**：可能重複編輯的影像。

### JPEG（MozJPEG 壓縮）

JPEG（Joint Photographic Experts Group）是一種主要用於照片的格式，強調「即使犧牲一些影像質量，也要保持小尺寸」。
本程式中使用的 MozJPEG 是由 Mozilla 開發的技術，旨在進一步減小 JPEG 影像大小，同時最大限度地減少視覺品質下降。

#### JPEG 的特性

- **有損壓縮**：為了減少檔案大小，會刪除人眼難以察覺的訊息，從而略微降低影像品質（壓縮率越高，品質下降越明顯）。
- **高壓縮率**：可以將包含多種色彩的複雜影像（例如照片）壓縮到極小的尺寸。
- **jpegli**：與傳統 JPEG 相比，在相同檔案大小下，它可以實現更高的影像質量，甚至可以在相同影像質量下實現較小的檔案大小。它使用與 JPEG XL 相同的技術，可實現高品質壓縮。

#### JPEG 使用場景

- **普通照片**：包含多種色彩和漸變的圖像，例如風景和人像。
- **網站上的大型照片**：當檔案大小是加快載入速度的首要考慮因素時。

### WebP

WebP 是由 Google 開發的一種全新圖片格式，它融合了 JPEG 和 PNG 的優點。

#### WebP 特點

- **高壓縮率和高畫質**：在保持與 JPEG 相同的壓縮率的同時，保持比 PNG 更高的畫質。
- **有損/無損支援**：支援有損壓縮（用於照片）和無損壓縮（用於插圖）。
- **透明度 (Alpha) 和動畫**：支援類似 PNG 的背景透明度和類似 GIF 的動畫（比 GIF 畫質更高、檔案更小）。

#### WebP 使用場景

- **通用網站圖片**：使用此格式替換大多數圖片，包括照片、圖標和動畫，以提高網站速度。
- **通用圖片格式**：當您不想費心選擇檔案格式時，此格式非常有用。

### AVIF

AVIF（AV1 影像格式）是一種比 WebP 更新的「下一代」影像格式。它採用高品質視訊技術（即 AV1）創建。

### AVIF 特性

- **目前頂級的壓縮率**：在保持與 JPEG 或 WebP 相同畫質的情況下，檔案體積更小。
- **高品質色彩呈現**：支援 HDR（高動態範圍）和廣色域，可呈現更豐富的對比度和鮮豔的色彩。
- **透明度 (Alpha) 和動畫**：支援透明度和動畫。

### AVIF 使用場景

- **需要高品質圖像的 Web 內容**：非常適合同時實現高品質圖像和快速加載，例如用於 Netflix 等網站的縮圖。
- **進一步提升網站速度**：當目標速度比 WebP 更快時，可考慮使用此格式。

### JPEG XL

JPEG XL 是一種新格式，旨在克服先前 JPEG 標準的缺點，成為終極影像格式。

#### JPEG XL 的功能

- **高相容性**：將現有 JPEG 影像轉換為較小尺寸，且幾乎不損失影像品質。
- **全方位支援**：為任何類型的圖像（包括照片、插圖和圖表）實現高壓縮率和高品質影像。
- **多功能**：支援無損和有損壓縮、透明度 (Alpha)、動畫和高品質色彩（廣色域和 HDR）。
- **漸進式顯示**：影像逐漸變得更清晰，減少感知等待時間，特別適用於大影像。

#### JPEG XL 的用例

- **影像格式統一**：預計這種單一格式最終將取代包括 JPEG、PNG 和 GIF 在內的多種格式。
- **影像歸檔**：非常適合將 JPEG 影像儲存為較小尺寸，且不降低原始影像品質。

## 輸出格式摘要

| 格式          | 主要優點                                       | 適用場景                                             | 有損 | 無損   | Alpha頻道 | HDR | 壓縮比 | 壓縮負載 |
| ------------- | ---------------------------------------------- | ---------------------------------------------------- | ---- | ------ | --------- | --- | ------ | -------- |
| PNG (Oxipng)  | 無影像劣化，背景透明。                         | 適用於標誌、圖示、圖表。                             | ❌️   | ✅️     | ✅️        | ❌️  | 低     | 高       |
| JPEG (jpegli) | 圖片可壓縮至極小尺寸。高品質壓縮。             | 常用網頁圖片。                                       | ✅️   | ❌️     | ❌️        | ❌️  | 高     | 低       |
| WebP          | 高壓縮率，高品質，支援透明度和動畫。           | 適用於網站的通用圖片。                               | ✅️   | ✅️     | ✅️        | ❌️  | 中     | 中       |
| AVIF          | **最高壓縮比和高影像品質**，支援廣色域 (HDR)。 | 適用於既需要高影像品質又需要快速顯示的網站。         | ✅️   | ❌️[^1] | ✅️        | ✅️  | 高     | 高       |
| JPEG XL       | **終極格式**，支援所有功能並與 JPEG 相容。     | 用於減少現有 JPEG 檔案的大小，並為未來統一影像格式。 | ✅️   | ✅️     | ✅️        | ✅️  | 高     | 低       |

[^1]:
    AVIF 本身是無損格式，但由於其高負載和大檔案體積，本程式並未實現。
    如需無損使用，我們建議使用 JPEG XL。
    參考：<https://github.com/AOMediaCodec/av1-avif/issues/111>
